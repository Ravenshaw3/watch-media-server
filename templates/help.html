<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Help - Watch Media Server</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-play-circle"></i>
                    <span>Watch Media Server</span>
                </div>
                <nav class="nav">
                    <a href="/" class="nav-link">
                        <i class="fas fa-home"></i>
                        Home
                    </a>
                    <a href="/help" class="nav-link active">
                        <i class="fas fa-question-circle"></i>
                        Help
                    </a>
                    <a href="/about" class="nav-link">
                        <i class="fas fa-info-circle"></i>
                        About
                    </a>
                </nav>
                <div class="header-actions">
                    <span class="version-info" id="versionInfo">v1.3.0</span>
                    <button class="theme-toggle" id="themeToggle">
                        <i class="fas fa-moon"></i>
                    </button>
                </div>
            </div>
        </header>

        <main class="main-content">
            <div class="help-container">
                <h1><i class="fas fa-question-circle"></i> Help & User Guide</h1>
                
                <div class="help-section">
                    <h2><i class="fas fa-play"></i> Getting Started</h2>
                    <div class="help-content">
                        <h3>How to Use Watch Media Server</h3>
                        <p>Watch Media Server is a Netflix-style media streaming application that organizes and streams your personal media collection.</p>
                        
                        <h4>1. Media Organization</h4>
                        <p>Organize your media files in the following folder structure:</p>
                        <ul>
                            <li><strong>Movies/</strong> - Place all your movie files here</li>
                            <li><strong>TV Shows/</strong> - Place all your TV show files here</li>
                            <li><strong>Kids/</strong> - Place kids-friendly content here</li>
                            <li><strong>Music Videos/</strong> - Place music videos here</li>
                        </ul>
                        
                        <h4>2. Supported Formats</h4>
                        <p>The server supports the following video formats:</p>
                        <ul>
                            <li>MP4 (.mp4)</li>
                            <li>MKV (.mkv)</li>
                            <li>AVI (.avi)</li>
                            <li>MOV (.mov)</li>
                            <li>WMV (.wmv)</li>
                            <li>FLV (.flv)</li>
                            <li>WebM (.webm)</li>
                        </ul>
                    </div>
                </div>

                <div class="help-section">
                    <h2><i class="fas fa-desktop"></i> Interface Guide</h2>
                    <div class="help-content">
                        <h3>Navigation</h3>
                        <ul>
                            <li><strong>Home</strong> - Main interface with all your media</li>
                            <li><strong>Movies</strong> - Browse your movie collection</li>
                            <li><strong>TV Shows</strong> - Browse your TV show collection</li>
                            <li><strong>Kids</strong> - Browse kids-friendly content</li>
                            <li><strong>Music Videos</strong> - Browse music videos</li>
                        </ul>
                        
                        <h3>Playing Media</h3>
                        <ol>
                            <li>Click on any media thumbnail to open the player</li>
                            <li>Use the video controls to play, pause, seek, and adjust volume</li>
                            <li>Click the X button or press Escape to close the player</li>
                        </ol>
                        
                        <h3>Search</h3>
                        <p>Use the search bar at the top to quickly find specific movies or TV shows by title.</p>
                    </div>
                </div>

                <div class="help-section">
                    <h2><i class="fas fa-cog"></i> Settings & Configuration</h2>
                    <div class="help-content">
                        <h3>Media Library Settings</h3>
                        <p>Access settings through the gear icon in the interface to configure:</p>
                        <ul>
                            <li>Media library path</li>
                            <li>Supported file formats</li>
                            <li>Scan frequency</li>
                            <li>Display preferences</li>
                        </ul>
                        
                        <h3>Scanning Media</h3>
                        <p>The server automatically scans your media library for new files. You can also manually trigger a scan:</p>
                        <ol>
                            <li>Go to Settings</li>
                            <li>Click "Scan Media Library"</li>
                            <li>Wait for the scan to complete</li>
                        </ol>
                    </div>
                </div>

                <div class="help-section">
                    <h2><i class="fas fa-exclamation-triangle"></i> Troubleshooting</h2>
                    <div class="help-content">
                        <h3>Common Issues</h3>
                        
                        <h4>Movies Won't Play</h4>
                        <ul>
                            <li>Check if the file format is supported</li>
                            <li>Ensure the file isn't corrupted</li>
                            <li>Try refreshing the page</li>
                        </ul>
                        
                        <h4>Media Not Showing</h4>
                        <ul>
                            <li>Check if files are in the correct folder structure</li>
                            <li>Trigger a manual media scan</li>
                            <li>Check file permissions</li>
                        </ul>
                        
                        <h4>Slow Performance</h4>
                        <ul>
                            <li>Check available disk space</li>
                            <li>Ensure adequate RAM</li>
                            <li>Check network connection</li>
                        </ul>
                    </div>
                </div>

                <div class="help-section">
                    <h2><i class="fas fa-info-circle"></i> Technical Information</h2>
                    <div class="help-content">
                        <h3>System Requirements</h3>
                        <ul>
                            <li>Docker support</li>
                            <li>Minimum 2GB RAM</li>
                            <li>FFmpeg for media processing</li>
                            <li>Modern web browser</li>
                        </ul>
                        
                        <h3>API Endpoints</h3>
                        <p>The server provides REST API endpoints for integration:</p>
                        <ul>
                            <li><code>/api/media</code> - Get media list</li>
                            <li><code>/api/stream/&lt;id&gt;</code> - Stream media file</li>
                            <li><code>/api/library/info</code> - Get library information</li>
                            <li><code>/api/scan</code> - Trigger media scan</li>
                        </ul>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
    <script>
        // Initialize help page
        document.addEventListener('DOMContentLoaded', function() {
            // Theme toggle functionality
            const themeToggle = document.getElementById('themeToggle');
            const body = document.body;
            
            // Load saved theme
            const savedTheme = localStorage.getItem('theme') || 'dark';
            body.classList.add(savedTheme);
            updateThemeIcon(savedTheme);
            
            themeToggle.addEventListener('click', function() {
                body.classList.toggle('dark');
                body.classList.toggle('light');
                
                const currentTheme = body.classList.contains('dark') ? 'dark' : 'light';
                localStorage.setItem('theme', currentTheme);
                updateThemeIcon(currentTheme);
            });
            
            function updateThemeIcon(theme) {
                const icon = themeToggle.querySelector('i');
                icon.className = theme === 'dark' ? 'fas fa-sun' : 'fas fa-moon';
            }
        });
    </script>
</body>
</html>
